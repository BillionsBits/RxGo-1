package rxgo

type justIterable(type T) struct {
	items [](T)
	opts  []Option(T)
}

func newJustIterable(items ...interface{}) func(opts ...Option(T)) Iterable {
	return func(opts ...Option) Iterable {
		return &justIterable{
			items: items,
			opts:  opts,
		}
	}
}

func (i *justIterable) Observe(opts ...Option) <-chan(Item(T)) {
	option := parseOptions(append(i.opts, opts...)...)
	next := option.buildChannel()

	go SendItems(option.buildContext(), next, CloseChannel, i.items)
	return next
}
